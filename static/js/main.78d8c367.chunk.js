(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__20WEC",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__301u9"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__387sK",Modal:"Modal_Modal__2ChzB"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2jxf9",Loader:"ImageGallery_Loader__3e0WW"}},16:function(e,t,a){e.exports={ButtonItem:"Button_ButtonItem__3etLA"}},22:function(e,t,a){},23:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=(a(22),a(23),a(14)),l=a(3),s=a(15),u=a.n(s),m=a(11),j=a.n(m),h=a(1);function b(e){var t=e.imageArray,a=e.onImageClick;return t.map((function(e){return Object(h.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:e.webformatURL,alt:e.tag,className:j.a.ImageGalleryItemImage,onClick:a})},e.id)}))}var d={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23276068-4a413a2f7a08bb1d67038a93d&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are no images called ".concat(e)))}))}},g=a(12),f=a.n(g),O=document.querySelector("#modal-root");function _(e){var t=e.toggleModal,a=e.largeImg;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(h.jsx)("div",{className:f.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:f.a.Modal,children:Object(h.jsx)("img",{src:a.largeImageURL,alt:""})})}),O)}var S=a(16),p=a.n(S);function x(e){var t=e.handleClickBtn;return Object(h.jsx)("button",{type:"button",className:p.a.ButtonItem,onClick:t,children:"Load more"})}var I=a(17),y=a(5),v=a.n(y);function w(e){var t=e.handleFormSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(h.jsx)("header",{className:v.a.Searchbar,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441")},className:v.a.SearchForm,children:[Object(h.jsx)("button",{type:"submit",className:v.a.SearchFormButton,children:Object(h.jsx)(I.a,{className:v.a.reactIcons})}),Object(h.jsx)("input",{className:v.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var C=a(9),F=a.n(C),k=a(4);function B(e){var t=e.titleText,a=Object(n.useRef)(),r=Object(n.useCallback)((function(){k.a.to("feDisplacementMap",1,{attr:{scale:0},ease:"circ.out"},1),k.a.to("feTurbulence",1,{attr:{baseFrequency:"2.01 .01"},ease:"circ.out"},1),k.a.to(a.current,1,{fontVariationSettings:"'wght' 700",ease:"back.out"},1)}),[]),c=Object(n.useCallback)((function(){k.a.to("feDisplacementMap",1,{attr:{scale:100},ease:"circ.out"}),k.a.to("feTurbulence",1,{attr:{baseFrequency:"2.08 .08"},ease:"circ.out"},1),k.a.to(a.current,1,{fontVariationSettings:"'wght' 650",ease:"back.out"})}),[]);return Object(h.jsxs)("div",{className:F.a.container,children:[Object(h.jsx)("h2",{className:F.a.title3,onMouseEnter:c,onMouseLeave:r,ref:a,children:t}),Object(h.jsx)("svg",{className:F.a.distort,children:Object(h.jsxs)("filter",{id:"distortionFilter",children:[Object(h.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"2.01 .01",numOctaves:"5",seed:"2",stitchTiles:"noStitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"noise"}),Object(h.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"0",xChannelSelector:"R",yChannelSelector:"B",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"userSpaceOnUse"})]})})]})}var N=a(13),T=a.n(N);function G(e){var t=e.pageScroll,a=Object(n.useState)(1),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(12),m=Object(l.a)(s,2),j=m[0],g=(m[1],Object(n.useState)([])),f=Object(l.a)(g,2),O=f[0],S=f[1],p=Object(n.useState)(null),I=Object(l.a)(p,2),y=(I[0],I[1],Object(n.useState)("idle")),v=Object(l.a)(y,2),C=v[0],F=v[1],k=Object(n.useState)(!1),N=Object(l.a)(k,2),G=N[0],L=N[1],M=Object(n.useState)(""),E=Object(l.a)(M,2),q=E[0],A=E[1],D=Object(n.useState)(""),P=Object(l.a)(D,2),R=P[0],U=P[1];Object(n.useEffect)((function(){R&&d.fetchImage(R,c,j).then((function(e){e.hits.length>0?(S((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),F("resolved"),t()):F("rejected")})).catch((function(e){F("rejected")}))}),[R,c,j,t]);var J=function(){return L(!G)},Q=O.length>0&&O.length/c===12;return Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{handleFormSubmit:function(e){U(e),S([]),o(1)}}),"idle"===C&&Object(h.jsx)(B,{titleText:"Please enter your query!"}),"pending"===C&&Object(h.jsx)(u.a,{className:T.a.Loader,type:"Circles",color:"#d5e215",height:100,width:100}),"rejected"===C&&Object(h.jsx)("h1",{children:Object(h.jsx)(B,{titleText:"Something was wrong please try again!"})}),Object(h.jsx)("ul",{className:T.a.ImageGallery,children:Object(h.jsx)(b,{imageArray:O,onImageClick:function(e){e.preventDefault();var t=e.target.src;A(O.find((function(e){return e.webformatURL===t}))),J()}})}),Q&&Object(h.jsx)(x,{handleClickBtn:function(){o((function(e){return e+1})),F("pending")}}),G&&Object(h.jsx)(_,{toggleModal:J,largeImg:q})]})}function L(e){return Object(h.jsx)("div",{children:Object(h.jsx)(G,{imageName:e,pageScroll:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})})}var M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),M()},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__xZkSA",SearchForm:"SearchBar_SearchForm__39vQG",SearchFormButton:"SearchBar_SearchFormButton__KZ8et","SearchFormButton-label":"SearchBar_SearchFormButton-label__3kQX9",SearchFormInput:"SearchBar_SearchFormInput__2NSmQ",reactIcons:"SearchBar_reactIcons__1J_pw"}},9:function(e,t,a){e.exports={gradientColor:"SoloidTitle_gradientColor__1fm78",title3:"SoloidTitle_title3__3CV93 SoloidTitle_gradientColor__1fm78",distort:"SoloidTitle_distort__38xLA",container:"SoloidTitle_container__3AP0X"}}},[[45,1,2]]]);
//# sourceMappingURL=main.78d8c367.chunk.js.map