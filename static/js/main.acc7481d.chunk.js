(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__20WEC",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__301u9"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__387sK",Modal:"Modal_Modal__2ChzB"}},14:function(e,t,a){e.exports={ButtonItem:"Button_ButtonItem__3etLA"}},20:function(e,t,a){},21:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__xZkSA",SearchForm:"SearchBar_SearchForm__39vQG",SearchFormButton:"SearchBar_SearchFormButton__KZ8et","SearchFormButton-label":"SearchBar_SearchFormButton-label__3kQX9",SearchFormInput:"SearchBar_SearchFormInput__2NSmQ",reactIcons:"SearchBar_reactIcons__1J_pw"}},43:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(7),o=a.n(n),l=(a(20),a(3)),i=(a(21),a(15)),s=a(4),u=a.n(s),m=a(1);function h(e){var t=e.handleFormSubmit,a=Object(c.useState)(""),r=Object(l.a)(a,2),n=r[0],o=r[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),o("")):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441")},className:u.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)(i.a,{className:u.a.reactIcons})}),Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=a(12),d=a(13),g=a.n(d),b=a(10),f=a.n(b);function O(e){var t=e.imageArray,a=e.onImageClick;return t.map((function(e){return Object(m.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:e.webformatURL,alt:e.tag,className:f.a.ImageGalleryItemImage,onClick:a})},e.id)}))}var _={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23276068-4a413a2f7a08bb1d67038a93d&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are no images called ".concat(e)))}))}},I=a(11),p=a.n(I),S=document.querySelector("#modal-root");function y(e){var t=e.toggleModal,a=e.largeImg;Object(c.useEffect)((function(){window.addEventListener("keydown",r)})),Object(c.useEffect)((function(){window.removeEventListener("keydown",r)}));var r=function(e){"Escape"===e.code&&t()};return Object(n.createPortal)(Object(m.jsx)("div",{className:p.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:p.a.Modal,children:Object(m.jsx)("img",{src:a,alt:""})})}),S)}var v=a(14),x=a.n(v);function B(e){var t=e.handleClickBtn;return Object(m.jsx)("button",{type:"button",className:x.a.ButtonItem,onClick:t,children:"Load more"})}var w=a(6),F=a.n(w);function k(e){var t=e.pageScroll,a=e.imageName,r=Object(c.useState)(1),n=Object(l.a)(r,2),o=n[0],i=n[1],s=Object(c.useState)(12),u=Object(l.a)(s,2),h=u[0],d=(u[1],Object(c.useState)([])),b=Object(l.a)(d,2),f=b[0],I=b[1],p=Object(c.useState)("idle"),S=Object(l.a)(p,2),v=S[0],x=S[1],w=Object(c.useState)(!1),k=Object(l.a)(w,2),N=k[0],C=k[1],G=Object(c.useState)(""),L=Object(l.a)(G,2),E=L[0],M=L[1];Object(c.useEffect)((function(){a.trim()&&(i(1),x("pending"),_.fetchImage(a,o,h).then((function(e){e.hits.length>0?(I(e.hits),x("resolved"),t()):x("rejected")})).catch((function(e){x("rejected")})))}),[a,o,h,t]);var Q=function(){return C(!N)};return Object(m.jsxs)("div",{children:["idle"===v&&Object(m.jsx)("div",{className:F.a.Query,children:"Please enter your query!"}),"pending"===v&&Object(m.jsx)(g.a,{className:F.a.Loader,type:"Circles",color:"#d5e215",height:100,width:100}),"rejected"===v&&Object(m.jsx)("h1",{className:F.a.Query,children:"Something was wrong please try again!"}),Object(m.jsx)("ul",{className:F.a.ImageGallery,children:Object(m.jsx)(O,{imageArray:f,onImageClick:function(e){var t=f.find((function(t){return t.id===e}));M(t.largeImageURL),Q()}})}),Object(m.jsx)(B,{handleClickBtn:function(){x("pending"),_.fetchImage(a,o,h).then((function(e){var a=e.hits;I([].concat(Object(j.a)(f),Object(j.a)(a))),x("resolved"),t()})).catch((function(e){x("rejected")}))}}),N&&Object(m.jsx)(y,{toggleModal:Q,largeImg:E})]})}function N(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{handleFormSubmit:function(e){r(e)}}),Object(m.jsx)(k,{imageName:a,pageScroll:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})]})}var C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,o=t.getTTFB;a(e),c(e),r(e),n(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),C()},6:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2jxf9",Query:"ImageGallery_Query__13D8-",Loader:"ImageGallery_Loader__3e0WW"}}},[[43,1,2]]]);
//# sourceMappingURL=main.acc7481d.chunk.js.map